
<div class="container nav-sep">
  <h2>Edit Preferences</h2>
  <hr>
  <div class="container">
      <div class="row" align="center" >
        <div class="col-12 up_label">
          <%if File.exist?("./public/uploads/users/#{@user.id}/user_avatar.png") %>
            <img class="rounded-circle" style="width: 250px; height: 250px"  src="../uploads/users/<%= @user.id %>/user_avatar.png?<%= Time.now.getutc %>">
          <%else %>
            <img class="rounded-circle" style="width: 250px; height: 250px"  src="/img/avatar_placeholder.png">
          <%end %>
        <label for="avatar_input">

        <div class="overlay" align="center">
          <div class="text" align="center">Upload Photo</div>
        </div>
      </label>


        </div>
      </div>

        <form class="form-signin" action="" method="POST" enctype="multipart/form-data">
          <div class="form-row">
            <label class="col-6 mt-3 mb-0">First Name</label>
            <label class="col-6 mt-3 mb-0">Last Name</label>
          </div>
          <div class="form-row">
            <input class= "col-6 form-control" type="text" name="first_name" value="<%= @user.first_name %>"/>
            <input class= "col-6 form-control" type="text" name="last_name" value="<%= @user.last_name %>"/>
          </div>
          <div class="form-row">
            <label class="mt-3 mb-0">E-mail</label>
          </div>
          <div class="form-row">
            <input class= "form-control" type="text" name="email" value="<%= @user.email %>"/>
          </div>
          <div class="form-row">
            <label class="mt-3 mb-0">Phone Number</label><br>
          </div>
          <div class="form-row">
            <input class= "form-control" type="number" name="phone_number" value="<%= @user.phone_number %>"/>
          </div>
          <div class="form-row">
            <label class="mt-3 mb-0">Change Password</label>
          </div>
          <div class="form-row">
            <input class= "form-control" type="password" name="password" />
          </div>
          <div class="form-row">
            <label class="mt-3 mb-0">Verify Password</label>
          </div>
          <div class="form-row">
            <input class= "form-control" type="password" name="password2" />
          </div>
          <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
          <div class="form-row">
            <input type="file" id="avatar_input" style="display: none;" name="avatar" accept="image/*">
          </div>
          <div class="form-row">
            <label class="mx-auto btn btn-primary btn-medium mt-2">
            <input type="submit" class="btn btn-primary" value="Save"
                onclick="return verifyPasswordMatch(this.parentElement.parentElement);" />
            </label>
          </div>
        </form>
      </div>
    </div>
</div>
<style>
.container {
  position: relative;
  width: 50%;
}

.image {
  display: block;
  width: 100%;
  height: auto;
}

.overlay {
  border-radius: 50%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  height: 250px;
  width: 250px;
  opacity: 0;
  margin: auto;
  transition: .5s ease;
  background-color: #008CBA;
}

.up_label:hover .overlay {
  opacity: .5;
}

.text {
  color: white;
  font-size: 20px;
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  text-align: center;
}
</style>
